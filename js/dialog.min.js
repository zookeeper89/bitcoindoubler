/*! dialogs-manager v4.9.1 | (c) Kobi Zaltzberg | https://github.com/kobizz/dialogs-manager/blob/master/LICENSE.txt 
 2023-01-11 16:45 */
!function(t,e){"use strict";var n={widgetsTypes:{},createWidgetType:function(e,i,o){function s(){o.apply(this,arguments)}o=o||this.Widget;var r=s.prototype=new o(e);return r.types=r.types.concat([e]),t.extend(r,i),(r.constructor=s).extend=function(t,e){return n.createWidgetType(t,e,s)},s},addWidgetType:function(t,e,n){return e&&e.prototype instanceof this.Widget?this.widgetsTypes[t]=e:this.widgetsTypes[t]=this.createWidgetType(t,e,n)},getWidgetType:function(t){return this.widgetsTypes[t]},Instance:function(){var e=this,i={};this.createWidget=function(t,i){return(t=new(n.getWidgetType(t))(t)).init(e,i=i||{}),t},this.getSettings=function(t){return t?i[t]:Object.create(i)},this.init=function(n){return t.extend(i,{classPrefix:"dialog",effects:{show:"fadeIn",hide:"fadeOut"}},n),t("body"),e},e.init()},Widget:function(e){function i(e,n){e=d.effects[e];var i=h.widget;if(t.isFunction(e))e.apply(i,n);else{if(!i[e])throw"Reference Error: The effect "+e+" not found";i[e].apply(i,n)}}function o(e){if(!y(e)){if(d.hide.onClick){if(t(e.target).closest(d.selectors.preventClose).length)return}else if(e.target!==this)return;u.hide()}}function s(e){y(e)||t(e.target).closest(h.widget).length||p(e)||u.hide()}function r(n,i){n=t.extend(!0,{},n.getSettings()),d={headerMessage:"",message:"",effects:n.effects,classes:{globalPrefix:n.classPrefix,prefix:n.classPrefix+"-"+e,preventScroll:n.classPrefix+"-prevent-scroll"},selectors:{preventClose:"."+n.classPrefix+"-prevent-close"},container:"body",preventScroll:!1,iframe:null,closeButton:!1,closeButtonOptions:{iconClass:n.classPrefix+"-close-button-icon",attributes:{role:"button",tabindex:0,"aria-label":"Close",href:"#"},iconElement:"<i>"},position:{element:"widget",my:"center",at:"center",enable:!0,autoRefresh:!1},hide:{auto:!1,autoDelay:5e3,onClick:!1,onOutsideClick:!0,onOutsideContextMenu:!1,onBackgroundClick:!0,onEscKeyPress:!0,ignore:""}},t.extend(!0,d,u.getDefaultSettings(),i),t.each(d,(function(t){(t=t.match(/^on([A-Z].*)/))&&(t=t[1].charAt(0).toLowerCase()+t[1].slice(1),u.on(t,this))}))}function c(t){27===t.which&&u.hide()}function a(){var t=[h.window];h.iframe&&t.push(jQuery(h.iframe[0].contentWindow)),t.forEach((function(t){d.hide.onEscKeyPress&&t.off("keyup",c),d.hide.onOutsideClick&&t[0].removeEventListener("click",s,!0),d.hide.onOutsideContextMenu&&t[0].removeEventListener("contextmenu",s,!0),d.position.autoRefresh&&t.off("resize",u.refreshPosition)})),(d.hide.onClick||d.hide.onBackgroundClick)&&h.widget.off("click",o)}var u=this,d={},l={},h={},g=0,f=["refreshPosition"],p=function(e){return!!d.hide.ignore&&!!t(e.target).closest(d.hide.ignore).length},y=function(t){return"click"===t.type&&2===t.button};this.addElement=function(e,n,i){return n=h[e]=t(n||"<div>"),e=e.replace(/([a-z])([A-Z])/g,(function(){return arguments[1]+"-"+arguments[2].toLowerCase()})),i=i?i+" ":"",i=(i+=d.classes.globalPrefix+"-"+e)+" "+d.classes.prefix+"-"+e,n.addClass(i),n},this.destroy=function(){return a(),h.widget.remove(),u.trigger("destroy"),u},this.getElements=function(t){return t?h[t]:h},this.getSettings=function(t){var e=Object.create(d);return t?e[t]:e},this.hide=function(){if(u.isVisible())return clearTimeout(g),i("hide",arguments),a(),d.preventScroll&&u.getElements("body").removeClass(d.classes.preventScroll),u.trigger("hide"),u},this.init=function(e,i){var o,s,c;if(e instanceof n.Instance)return o=f.concat(u.getClosureMethods()),t.each(o,(function(){var t=u[this];u[this]=function(){t.apply(u,arguments)}})),u.trigger("init",i),r(e,i),u.addElement("widget"),u.addElement("header"),u.addElement("message"),u.addElement("window",window),u.addElement("body",document.body),u.addElement("container",d.container),d.iframe&&u.addElement("iframe",d.iframe),d.closeButton&&(d.closeButtonClass&&(d.closeButtonOptions.iconClass=d.closeButtonClass),o=t("<a>",d.closeButtonOptions.attributes),s=t(d.closeButtonOptions.iconElement).addClass(d.closeButtonOptions.iconClass),o.append(s),u.addElement("closeButton",o)),(s=u.getSettings("id"))&&u.setID(s),c=[],t.each(u.types,(function(){c.push(d.classes.globalPrefix+"-type-"+this)})),c.push(u.getSettings("className")),h.widget.addClass(c.join(" ")).attr({"aria-modal":!0,role:"document",tabindex:0}),u.buildWidget(),u.attachEvents(),u.trigger("ready"),u;throw"The "+u.widgetName+" must to be initialized from an instance of DialogsManager.Instance"},this.isVisible=function(){return h.widget.is(":visible")},this.on=function(e,n){return"object"==typeof e?t.each(e,(function(t){u.on(t,this)})):e.split(" ").forEach((function(t){l[t]||(l[t]=[]),l[t].push(n)})),u},this.off=function(t,e){return l[t]&&(e?-1!==(e=l[t].indexOf(e))&&l[t].splice(e,1):delete l[t]),u},this.refreshPosition=function(){var e,n,i,o,s,r,c;d.position.enable&&(e=t.extend({},d.position),h[e.of]&&(e.of=h[e.of]),e.of||(e.of=window),d.iframe&&(n=e).my&&(i=/([+-]\d+)?$/,o=h.iframe.offset(),s=h.iframe[0].contentWindow,r=n.my.split(" "),c=[],1===r.length&&(/left|right/.test(r[0])?r.push("center"):r.unshift("center")),r.forEach((function(t,e){t=t.replace(i,(function(t){return t=+t||0,0<=(t+=e?o.top-s.scrollY:o.left-s.scrollX)?"+"+t:t})),c.push(t)})),n.my=c.join(" ")),h[e.element].position(e))},this.setID=function(t){return h.widget.attr("id",t),u},this.setHeaderMessage=function(t){return u.getElements("header").html(t),u},this.setMessage=function(t){return h.message.html(t),u},this.setSettings=function(e,n){return jQuery.isPlainObject(n)?t.extend(!0,d[e],n):d[e]=n,u},this.show=function(){var t;return clearTimeout(g),h.widget.appendTo(h.container).hide(),i("show",arguments),u.refreshPosition(),d.hide.auto&&(g=setTimeout(u.hide,d.hide.autoDelay)),t=[h.window],h.iframe&&t.push(jQuery(h.iframe[0].contentWindow)),t.forEach((function(t){d.hide.onEscKeyPress&&t.on("keyup",c),d.hide.onOutsideClick&&t[0].addEventListener("click",s,!0),d.hide.onOutsideContextMenu&&t[0].addEventListener("contextmenu",s,!0),d.position.autoRefresh&&t.on("resize",u.refreshPosition)})),(d.hide.onClick||d.hide.onBackgroundClick)&&h.widget.on("click",o),d.preventScroll&&u.getElements("body").addClass(d.classes.preventScroll),u.trigger("show"),u},this.trigger=function(e,n){var i="on"+e[0].toUpperCase()+e.slice(1);if(i=(u[i]&&u[i](n),l[e]))return t.each(i,(function(t,e){e.call(u,n)})),u}}};n.Widget.prototype.types=[],n.Widget.prototype.buildWidget=function(){var t=this.getElements(),e=this.getSettings();t.widget.append(t.header,t.message),this.setHeaderMessage(e.headerMessage),this.setMessage(e.message),this.getSettings("closeButton")&&t.widget.prepend(t.closeButton)},n.Widget.prototype.attachEvents=function(){var t=this;t.getSettings("closeButton")&&t.getElements("closeButton").on("click",(function(e){e.preventDefault(),t.hide()}))},n.Widget.prototype.getDefaultSettings=function(){return{}},n.Widget.prototype.getClosureMethods=function(){return[]},n.Widget.prototype.onHide=function(){},n.Widget.prototype.onShow=function(){},n.Widget.prototype.onInit=function(){},n.Widget.prototype.onReady=function(){},n.widgetsTypes.simple=n.Widget,n.addWidgetType("buttons",{activeKeyUp:function(t){9===t.which&&t.preventDefault(),this.hotKeys[t.which]&&this.hotKeys[t.which](this)},activeKeyDown:function(t){var e,n;this.focusedButton&&9===t.which&&(t.preventDefault(),e=this.focusedButton.index(),t.shiftKey?(n=e-1)<0&&(n=this.buttons.length-1):(n=e+1)>=this.buttons.length&&(n=0),this.focusedButton=this.buttons[n].focus())},addButton:function(e){function n(){o.hide.onButtonClick&&i.hide(),t.isFunction(e.callback)&&e.callback.call(this,i)}var i=this,o=i.getSettings(),s=jQuery.extend(o.button,e),r=e.classes?e.classes+" ":"";r+=o.classes.globalPrefix+"-button",s=i.addElement(e.name,t("<"+s.tag+">").html(e.text),r);return i.buttons.push(s),s.on("click",n),e.hotKey&&(this.hotKeys[e.hotKey]=n),this.getElements("buttonsWrapper").append(s),e.focus&&(this.focusedButton=s),i},bindHotKeys:function(){this.getElements("window").on({keyup:this.activeKeyUp,keydown:this.activeKeyDown})},buildWidget:function(){n.Widget.prototype.buildWidget.apply(this,arguments);var t=this.addElement("buttonsWrapper");this.getElements("widget").append(t)},getClosureMethods:function(){return["activeKeyUp","activeKeyDown"]},getDefaultSettings:function(){return{hide:{onButtonClick:!0},button:{tag:"button"}}},onHide:function(){this.unbindHotKeys()},onInit:function(){this.buttons=[],this.hotKeys={},this.focusedButton=null},onShow:function(){this.bindHotKeys(),this.focusedButton||(this.focusedButton=this.buttons[0]),this.focusedButton&&this.focusedButton.focus()},unbindHotKeys:function(){this.getElements("window").off({keyup:this.activeKeyUp,keydown:this.activeKeyDown})}}),n.addWidgetType("lightbox",n.getWidgetType("buttons").extend("lightbox",{getDefaultSettings:function(){var e=n.getWidgetType("buttons").prototype.getDefaultSettings.apply(this,arguments);return t.extend(!0,e,{contentWidth:"auto",contentHeight:"auto",position:{element:"widgetContent",of:"widget",autoRefresh:!0}})},buildWidget:function(){n.getWidgetType("buttons").prototype.buildWidget.apply(this,arguments);var t=this.addElement("widgetContent"),e=this.getElements();t.append(e.header,e.message,e.buttonsWrapper),e.widget.html(t),e.closeButton&&t.prepend(e.closeButton)},onReady:function(){var t=this.getElements(),e=this.getSettings();"auto"!==e.contentWidth&&t.message.width(e.contentWidth),"auto"!==e.contentHeight&&t.message.height(e.contentHeight)}})),n.addWidgetType("confirm",n.getWidgetType("lightbox").extend("confirm",{onReady:function(){n.getWidgetType("lightbox").prototype.onReady.apply(this,arguments);var t=this.getSettings("strings"),e="cancel"===this.getSettings("defaultOption");this.addButton({name:"cancel",text:t.cancel,callback:function(t){t.trigger("cancel")},focus:e}),this.addButton({name:"ok",text:t.confirm,callback:function(t){t.trigger("confirm")},focus:!e})},getDefaultSettings:function(){var t=n.getWidgetType("lightbox").prototype.getDefaultSettings.apply(this,arguments);return t.strings={confirm:"OK",cancel:"Cancel"},t.defaultOption="cancel",t}})),n.addWidgetType("alert",n.getWidgetType("lightbox").extend("alert",{onReady:function(){n.getWidgetType("lightbox").prototype.onReady.apply(this,arguments);var t=this.getSettings("strings");this.addButton({name:"ok",text:t.confirm,callback:function(t){t.trigger("confirm")}})},getDefaultSettings:function(){var t=n.getWidgetType("lightbox").prototype.getDefaultSettings.apply(this,arguments);return t.strings={confirm:"OK"},t}})),e.DialogsManager=n}("undefined"!=typeof jQuery?jQuery:"function"==typeof require&&require("jquery"),"undefined"!=typeof module&&void 0!==module.exports?module.exports:window);